{% extends 'base.html.twig' %}


{% block body %}

{% include('/modals/modalCommentaires.html.twig') %}

<div class="grid grid-cols-1 md:grid-cols-2 md:gap-4 md:mx-40">
    <div class="md:col-span-2 text-cyanfonce text-center text-4xl uppercase font-extrabold font-croissant mt-5">
        <h1>{{recette.nomRecettes}}</h1>
    </div>
    <div>
        <div class="grid grid-cols-2 font-croissant text-cyanfonce text-3xl mb-3 font-extrabold">
            <div class='flex-1'>
                <img class="inline" alt='temps' src='../images/temps.png'/>
                {{recette.tempsMn}}
            </div>
            <div class='flex-1'>
                <img class="inline" alt='personnes' src='../images/personnes.png' />
            
                {{recette.nombrePersonneRecettes}}
            </div>        
        </div>
        <div class="grid grid-cols-1 font-croissant text-cyanfonce text-xl mb-3 font-extrabold">
            <div class='flex-1'>
                Difficultée : {{recette.difficulteRecettes}}
            </div>       
        </div>
        <div class="grid grid-cols-1 font-croissant text-cyanfonce text-xl mb-3 font-extrabold">
            <div class='flex-1'>
                Chef : {{recette.idChef.prenomUtilisateurs }} {{recette.idChef.nomUtilisateurs }}
            </div>
        </div>
        <h2 class="text-cyanfonce text-3xl uppercase font-extrabold font-croissant mb-3">Ingredients</h2>
        <ul class="list-inside text-2xl font-croissant">
            {% for ingredient in recette.idIngredientsRecette %}
                <li class="mt-2 ml-3 liCake">{{ ingredient }}</li>
            {% endfor%}
        </ul>
    </div>

    <div class="flex flex-wrap justify-end mt-3">
        <div class="w-12/12 px-4">
            <img src="{{LIEN_IMAGES_RECETTES}}{{recette.images.nomImages}}.{{recette.images.extensionImages}}" alt="{{recette.images.nomImages}}"
            class="shadow-lg rounded max-w-full h-auto align-right border-none" />
        </div>
    </div>

    <div class="md:col-span-2 mt-3">
        <h2 class="text-cyanfonce text-3xl uppercase font-extrabold font-croissant mb-3">La recette</h2>
        <ul class="list-inside text-2xl font-croissant">
            {% for paragraphe in recette.paragraphes %}
                <li class="mt-2 ml-3 liCake">{{ paragraphe.contenuParagraphes }}</li>
            {% endfor%}
        </ul>
    </div>
    <div class="md:col-span-2 mt-3">
        <button class=" px-3 border-2 border-cyanclair bg-blanc rounded-md  w-38 xl:w-68 h-20 font-croissant ajoutCommentaire  ">
            <a href="" class="text-2xl">Ajouter un commentaire</a>
        </button>
    </div>
    <div>
        
        <h2 class="text-cyanfonce text-3xl uppercase font-extrabold font-croissant mb-3 mt-3">Les commentaires</h2>
         {% for commentaire in recette.commentaires %}
            {% if commentaire.etatCommentaires == 'a' %}
                <div class=" text-1xl font-croissant">
                    Commentaire de {{ commentaire.idUtilisateurs.prenomUtilisateurs }} 
                    fait le {{commentaire.dateCreationCommentaires |format_datetime('full', 'none', locale='fr')}}
                </div>
                <div class=" text-3xl font-croissant ml-3">
                    {{commentaire.titreCommentaires}}
                </div>
                <div class=" text-2xl font-croissant ml-3">
                    {{commentaire.contenuCommentaires |raw}}
                </div>
                <hr class="cyanclair my-5 mx-5">
            {% endif %}
         {% endfor %}
    </div>

    <div class="text-center md:ml-16">
        <h2 class="text-cyanfonce text-3xl uppercase font-extrabold font-croissant mb-3 mt-3">Les notes</h2>
        <div class="text-center">
        <div class="mb-1 font-croissant text-cyanfonce text-2xl">
            <span class="star starValid">★</Span>
            <span class="star">★</Span>
            <span class="star">★</Span>
            <span class="star">★</Span>
            <span class="star">★</Span>
             {{ recette.donneUneNotes.note.noteUser[5]}} note{% if recette.donneUneNotes.note.noteUser[5] > 1 %}s{%else%}&nbsp;{%endif%}
        </div>
        </div>
        <div class="mb-1 font-croissant text-cyanfonce text-2xl text-center">
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star">★</Span>
            <span class="star">★</Span>
            <span class="star">★</Span>
              {{ recette.donneUneNotes.note.noteUser[4]}} note{% if recette.donneUneNotes.note.noteUser[4] > 1 %}s{%else%}&nbsp;{%endif%}
        </div>
        <div class="mb-1 font-croissant text-cyanfonce text-2xl text-center">
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star">★</Span>
            <span class="star">★</Span>
             {{ recette.donneUneNotes.note.noteUser[3]}} note{% if recette.donneUneNotes.note.noteUser[3] > 1 %}s{%else%}&nbsp;{%endif%}
        </div>
        <div class="mb-1 font-croissant text-cyanfonce text-2xl text-center">
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star">★</Span>
             {{ recette.donneUneNotes.note.noteUser[2]}} note{% if recette.donneUneNotes.note.noteUser[2] > 1 %}s{%else%}&nbsp;{%endif%}
        </div>
        <div class="mb-1 font-croissant text-cyanfonce text-2xl text-center">
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
            <span class="star starValid">★</Span>
              {{ recette.donneUneNotes.note.noteUser[1]}} note{% if recette.donneUneNotes.note.noteUser[1] > 1 %}s{%else%}&nbsp;{%endif%}
        </div>
    </div>

</div>

{% endblock %}

{% block javascripts %}
     {{ parent() }}
   
    {{ include('/js/recette.js.twig') }}

{% endblock %}