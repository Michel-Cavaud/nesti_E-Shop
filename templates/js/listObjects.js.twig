<script>
/*Les objets Reccette et ingredient*/
class Recipe {
    constructor(recipe) {
        this.id = recipe.id;
        this.name = recipe.nomRecettes;
        this.picture = recipe.images.nomImages + '.' + recipe.images.extensionImages;
        this.produits = recipe.idProduitsRecette;
        this.valid = false;
    }
    validRecipe(ingredients) {
        this.valid = false;
        console.log(ingredients);
        console.log(this.produits);
        if (ingredients.length > 0) {
            let arrayCommun = ingredients.filter((e) =>
                this.produits.includes(e.toLowerCase())
            );
            if (arrayCommun.length == ingredients.length) {
                this.valid = true;
            }
        }
    }
}

class Card {
    constructor(ingredient) {
        this.name = ingredient;
        this.picture = this.checkWriting(ingredient);
        this.valid = false;
    }
    changeValid(value) {
        this.valid = value;
    }
    checkWriting(text) {
        var text = text.toLowerCase().replace(/ /g, "");
        var accents = "àáâäôöèéêëçîïûü";
        var accentsOut = "aaaaooeeeeciiuu";
        var textArray = text.split("");
        var out = "";
        var x;
        for (let i = 0; i < textArray.length; i++) {
            if ((x = accents.indexOf(textArray[i])) != -1) {
                textArray[i] = accentsOut[x];
            }
            out += textArray[i];
        }
        return out;
    }
}
</script>